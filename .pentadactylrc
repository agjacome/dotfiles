loadplugins '\.(js|penta)$'
group user

" Options
colorscheme zenburn
set guioptions=Cns
set showtabline=always

set hlfind
set incfind
set noerrorbells
set novisualbell

set defsearch=duck
set autocomplete=
set complete=location,suggestion,bookmark
set wildmode=list:longest,full
set maxitems=3

" Font
hi FontCode  -a font-family: Dejavu Sans Mono !important; font-size: 10pt !important;
hi FontFixed -a font-family: Dejavu Sans Mono !important; font-size: 10pt !important;
hi Normal    -a font-family: Dejavu Sans Mono !important; font-size: 10pt !important;

" Commands
command! imgzoom js window.content.document.toggleImageSize();

command! pinsave   open javascript:if(document.getSelection){s=document.getSelection();}else{s='';};document.location='https://pinboard.in/add?next=same&url='+encodeURIComponent(location.href)+'&description='+encodeURIComponent(s)+'&title='+encodeURIComponent(document.title);
command! instasave open javascript:function%20iprl5(){var%20d=document,z=d.createElement('scr'+'ipt'),b=d.body,l=d.location;try{if(!b)throw(0);d.title='(Saving...)%20'+d.title;z.setAttribute('src',l.protocol+'//www.instapaper.com/j/CsLF5VYjbaH7?a=read-later&u='+encodeURIComponent(l.href)+'&t='+(new%20Date().getTime()));b.appendChild(z);}catch(e){alert('Please%20wait%20until%20the%20page%20has%20loaded.');}}iprl5();void(0);
command! instaread open javascript:function%20iptxt(){var%20d=document;try{if(!d.body)throw(0);window.location='http://www.instapaper.com/text?u='+encodeURIComponent(d.location.href);}catch(e){alert('Please%20wait%20until%20the%20page%20has%20loaded.');}}iptxt();void(0);

" Mappings
map , <Leader>

nmap K :tn<CR>
nmap J :tp<CR>
nmap <S-C-k> :tabmove +1<CR>
nmap <S-C-j> :tabmove -1<CR>

nmap -builtin <Leader>, :noh<CR>
nmap -builtin <Leader>z :imgzoom<CR>
nmap -builtin <Leader>p :private winopen<CR>
nmap -builtin <Leader>d :downloads<CR>
nmap -builtin <Leader>s :pinsave<CR>
nmap -builtin <Leader>i :instasave<CR>
nmap -builtin <Leader>I :instaread<CR>

map -builtin <F3> :styletoggle<Space>-name<Space>hybrid<CR>

" Useful stuff
set editor='urxvt -e vim -f +<line> <file>'
autocmd PageLoad youtube.com/watch* :silent !mpc pause

" Styles
style -name ublick * #nav-bar * { visibility: visible; }
style -name hybrid http://*,https://*,file://*,about:blank <<EOM
  * {
    color: #C5C8C6 !important;
    background: #1D1F21 !important;
    border-color: #282A2E !important;
  }
  a, a * {
    color: #81A2BE !important;
    text-decoration: none !important;
  }
  a:hover, a:hover * {
    color: #F0C674 !important;
  }
  a:visited, a:visited * {
    color: #b294bb !important;
  }
  a:visited:hover, a:visited:hover * {
    color: #de935f !important;
  }
EOM
styledisable -name=hybrid
